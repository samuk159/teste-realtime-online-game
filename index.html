<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>20 ab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app" @keyup.enter="goToDirection(1)">
        <div class="player" :style="'width: ' + playerBoxSize + 'px;' + 'height: ' + playerBoxSize + 'px;' + 'left: ' + (playerX - (playerBoxSize / 2)) + 'px;' + 'top: ' + (playerY - (playerBoxSize / 2)) + 'px;'">

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@2/dist/socket.io.js"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data: {
                playerX: 400,
                playerY: 300,
                playerBoxSize: 32,
                playerSpeed: 15,
                keysPressed: {}
            },
            created() {
                onkeydown = onkeyup = this.handleKeyPressed;
            },
            methods: {
                handleKeyPressed(e) {
                    e = e || window.event;

                    if (e && e.key) {
                        this.keysPressed[e.key] = e.type == 'keydown';

                        if (this.keysPressed.a) {
                            this.playerX -= this.playerSpeed;
                        } else if (this.keysPressed.d) {
                            this.playerX += this.playerSpeed;
                        }

                        if (this.keysPressed.w) {
                            this.playerY -= this.playerSpeed;
                        } else if (this.keysPressed.s) {
                            this.playerY += this.playerSpeed;
                        }
                    }
                }
            }
        });
    </script>   
</body>
</html>